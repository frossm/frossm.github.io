<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>User Defined Functions - RPNCalc User Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="The RPNCalc User Guide">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "ayu";
            const default_dark_theme = "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RPNCalc User Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <img align="right" width="150" src="../Images/UDF.png" alt="">
<h1 id="user-defined-functions"><a class="header" href="#user-defined-functions">User Defined Functions</a></h1>
<p>RPNCalc can record your commands and save them as a user defined function.  In essence, you are creating a new command that can be run.</p>
<p>When recording a new function, start by adding data to your stack that would emulate when you would run your function.  The only data that will be part of your recording will be data &amp; commands entered <em><strong>after</strong></em> recording has been turned on.  When you are ready, enter the <code>record on</code> command.  A red <code>[Recording]</code> alert will appear in the status line. Anything you add during this period will be recorded with the exception of the commands listed below.  Enter your commands, numbers, etc. until you are done.</p>
<p>When recording is complete, enter <code>record off</code> to complete your recording.  You'll be prompted for a function name.  Your new command will be this name so choose a name without spaces and that is easy to type when you wish to execute the function in the future.  You should also not choose a name of an existing command as your function will not be able to be called.  If you do not provide a name, i.e, just hit enter, the recording will be discarded.</p>
<p>Then you can run your function whenever you like on the stack currently available.  To run the function, simply type the name of your function as a standard command. To
see a list of the saved functions, execute <code>list func</code> and it will display the name and the steps you recorded.</p>
<p>User defined functions can be deleted with the <code>func del NAME</code> command or you can delete all of the functions with <code>func delall</code></p>
<p>Functions are global and can work across any stack.  They are saved in the preferences system and will be reloaded when RPNCalc starts.  They are saved immediately after you give a new recording a name and press enter.</p>
<p>When you execute a function, the steps of that function are executed one after the other.  Therefore when you execute <code>undo</code> you will undo back through your function step
by step. You do not <code>undo</code> the entire function in one command.  Of course, you can always run <code>undo NUM</code> where <code>NUM</code> is the steps to undo.</p>
<p>The following commands can be entered during a recording, but are not recorded.</p>
<ul>
<li>list</li>
<li>debug</li>
<li>ver, version</li>
<li>help, h, ?</li>
<li>rec, record</li>
<li>func, function</li>
<li>set, reset</li>
<li>cx, x, quit, exit</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th><div style="width:110px">Command</div></th><th>Description</th></tr></thead><tbody>
<tr><td>record on<br>rec on</td><td>Turn on recording.  Most commands and numbers entered after record is enabled will be saved.  There are some that are excluded from being recorded as detailed above</td></tr>
<tr><td>record off<br>rec off</td><td>Turn off recording.  The user will be prompted to enter in a name for this function and that name will be used to run it in the future.  If you do not enter in a name the recording is canceled and  nothing will be saved</td></tr>
<tr><td>func del <code>NAME</code></td><td>Delete a saved function.  The name must match the one given when saved.  A list of functions can be viewed with <code>list func</code>.  Undo will not recover a deleted function</td></tr>
<tr><td>func delall</td><td>Delete all saved user defined functions. Please note that undo will not recover deleted functions</td></tr>
<tr><td>func export</td><td>Export all User Defined Functions to a file for backup or future import</td></tr>
<tr><td>func import</td><td>Import a previously exported set of functions. Please note that importing will append the imported functions to the currently defined list.  If an imported function has the same name as an existing one, the existing function will be overwritten</td></tr>
</tbody></table>
</div>
<h3 id="example-1"><a class="header" href="#example-1">Example 1</a></h3>
<p>Here is a full real world example.  Lets say you'd like to make a user defined function to take the cube of number.  Here are the steps you'd take to do that.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Number</th><th style="text-align: center">Command</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center"><code>c</code></td><td style="text-align: left">Clear the stack.  Not really needed, but let's start off tidy</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center"><code>3 [Enter]</code></td><td style="text-align: left">Add the number 3 to the stack.  This can be any number really as it's not part of the recording</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center"><code>record on</code></td><td style="text-align: left">Start recording.  From now on anything you do (mostly) will be recorded</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center"><code>3</code></td><td style="text-align: left">Add 3 to the stack</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center"><code>^</code></td><td style="text-align: left">Take <code>line1</code> value to the power of 3</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center"><code>record off</code></td><td style="text-align: left">Stop recording and give the function the name "cube"</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center"><code>list func</code></td><td style="text-align: left">Show the user defined functions including the <code>cube</code> command you just made</td></tr>
</tbody></table>
</div>
<p>From now on, just type <code>cube</code> and <code>line1</code> will be cubed! Go You!  You can always list your defined functions with <code>list func</code></p>
<h3 id="example-2"><a class="header" href="#example-2">Example 2</a></h3>
<p>Another real world but slightly more complex example.  Say you wish to know the percentage different between two numbers.  Let's create a function called <code>diffpercent</code> The
logic is to find the smallest number on the stack and then the largest.  Divide them.  Flip the sign and add one to it.  Then convert it to a percent.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Number</th><th style="text-align: center">Command</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center"><code>c</code></td><td style="text-align: left">Clear the stack.  Not really needed, but let's start off tidy</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center"><code>10</code></td><td style="text-align: left">Setting up two numbers before we record the function</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center"><code>1</code></td><td style="text-align: left">Setting up two numbers before we record the function</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center"><code>record on</code></td><td style="text-align: left">Start recording.  From now on anything you do (mostly) will be recorded</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center"><code>min</code></td><td style="text-align: left">Copy the smallest number in the stack to the top</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center"><code>max</code></td><td style="text-align: left">Copy the largest number in the stack to the top</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center"><code>/</code></td><td style="text-align: left">Divide them</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center"><code>f</code></td><td style="text-align: left">Flip the sign</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center"><code>1</code></td><td style="text-align: left">Add the number one to the stack</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center"><code>+</code></td><td style="text-align: left">Add the numbers together (effectively subtracting the division results from 1</td></tr>
<tr><td style="text-align: center">11</td><td style="text-align: center"><code>to%</code></td><td style="text-align: left">Convert to a percent (multiply  by 100)</td></tr>
<tr><td style="text-align: center">12</td><td style="text-align: center"><code>record off</code></td><td style="text-align: left">Save the function with the name <code>diffpercent</code></td></tr>
</tbody></table>
</div>
<p>In the example above, the result it 90%.  There is a 90% different between 10 and 1. Going forward, you can use the command <code>diffpercent</code> anytime you need to find the
percentage different between the lowest and highest number on the stack.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Chapters/Constants.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../Chapters/OperationalCommands.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Chapters/Constants.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../Chapters/OperationalCommands.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
